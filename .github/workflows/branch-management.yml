name: Branch Management

on:
  schedule:
    - cron: '0 0 * * *' # Runs at midnight ET (us-east-1)
  workflow_dispatch:

env:
  NEON_API_KEY: ${{ secrets.NEON_API_KEY }}

jobs:
  dump-and-restore:
    runs-on: ubuntu-latest

    steps:
      - name: Install Neon CLI
        run: npm install -g neonctl@latest

      - name: Verify Neon CLI install
        run: |
          neon --version

      - name: List Projects
        run: |
          neon projects list
